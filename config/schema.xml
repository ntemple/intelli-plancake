<?xml version="1.0" encoding="UTF-8"?>
<database name="propel" defaultIdMethod="native" package="lib.model">

  <table name="pc_user">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="username" type="varchar" required="true" size="25" />
    <column name="email" type="varchar" required="true" size="80" />
    <column name="encrypted_password" type="varchar" required="true" size="40" />
    <column name="salt" type="varchar" required="true" size="12" description="for strengthening of password" />
    <column name="date_format" type="tinyint" sqlType="TINYINT(2) UNSIGNED" default="0" description="0->Y-m-d, 3->d-m-Y, 4->m-d-Y" />
    <column name="time_format" type="tinyint" sqlType="TINYINT(2) UNSIGNED" default="0" description="0->5:00pm, 1->17:00" />
    <column name="timezone_id" type="tinyint" sqlType="TINYINT UNSIGNED" />
    <column name="week_start" type="tinyint" sqlType="TINYINT(2) UNSIGNED" default="0" description="0->Sunday, 1->Monday" />
    <column name="dst_active" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="awaiting_activation" type="boolean" sqlType="TINYINT(1)" default="1" />
    <column name="newsletter" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="forum_id" type="integer" sqlType="INTEGER UNSIGNED" description="it's the corresponding id in the forum_users table" />
    <column name="last_login" type="timestamp" />
    <column name="language" type="varchar" size="8" default="" description="comes from the user agent accept language" />
    <column name="preferred_language" type="varchar" size="2" default="" description="standard 2-char language abbreviation" />
    <column name="ip_address" type="varchar" default="" size="15" />
    <column name="has_desktop_app_been_loaded" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="has_requested_free_trial" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="avatar_random_suffix" type="varchar" size="32" default="" />
    <column name="reminders_active" type="boolean" sqlType="TINYINT(1)" default="0" />    
    <column name="latest_blog_access" type="timestamp" />
    <column name="latest_backup_request" type="timestamp" />
    <column name="latest_import_request" type="timestamp" />  
    <column name="latest_breaking_news_closed" type="integer" sqlType="SMALLINT UNSIGNED" required="false" />
    <column name="last_promotional_code_inserted" type="varchar" required="true" default="" size="25" description="the user hasn't necessarily used it" />
    <column name="blocked" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="session_entry_point" type="varchar" size="128" default="" />
    <column name="session_referral" type="varchar" size="128" default="" />
    <column name="created_at" type="timestamp" />
    <foreign-key foreignTable="pc_timezone">
      <reference local="timezone_id" foreign="id" />
    </foreign-key>
    <index>
      <index-column name="forum_id"/>
    </index>
    <unique>
      <unique-column name="email"/>
    </unique>
  </table>
  
  <table name="pc_rememberme_key">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />    
    <column name="rememberme_key" type="varchar" size="32" />
    <column name="created_at" type="timestamp" null="false" required="true" />    
    <index>
      <index-column name="user_id"/>
    </index>
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <unique>
      <unique-column name="rememberme_key"/>
    </unique>    
  </table>  

  <table name="pc_dirty_task">
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <column name="task_id" type="integer"  sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <foreign-key foreignTable="pc_task">
      <reference local="task_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_failed_logins">
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="times" type="tinyint" sqlType="TINYINT UNSIGNED" required="true"  />
    <column name="updated_at" type="timestamp" />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
  </table>
  
  <table name="pc_activation_token">
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED"  required="true" primaryKey="true" />
    <column name="token" type="varchar" size="16" required="true"  />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <unique>
      <unique-column name="token"/>
    </unique>
  </table>  

  <table name="pc_counter">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" size="31" />
    <column name="value" type="integer" sqlType="INTEGER UNSIGNED" />
  </table>

  <table name="pc_password_reset_token">
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="token" type="varchar" size="16" required="true"  />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <unique>
      <unique-column name="token"/>
    </unique>
  </table>

  <table name="pc_plancake_email_address">
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="email" type="varchar" size="63" required="true" description="the domain @plancakebox.com is omitted" />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <unique>
      <unique-column name="email"/>
    </unique>
    <index>
      <index-column name="email"/>
    </index>
  </table>

  <table name="pc_list">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="creator_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="title" type="varchar" required="true" size="255" />
    <column name="sort_order" type="smallint" default="0" sqlType="SMALLINT UNSIGNED" />
    <column name="is_header" type="boolean" sqlType="TINYINT(1)"  required="true" default="0"  null="false" />
    <column name="is_inbox" type="boolean" sqlType="TINYINT(1)" required="true" default="0" null="false" />
    <column name="is_todo" type="boolean" sqlType="TINYINT(1)" required="true" default="0" null="false" />
    <foreign-key foreignTable="pc_user">
      <reference local="creator_id" foreign="id" />
    </foreign-key>
    <column name="updated_at" type="timestamp" null="false" required="true" />
    <column name="created_at" type="timestamp" null="false" required="true" />
    <index>
      <index-column name="creator_id"/>
      <index-column name="sort_order"/>
    </index>
  </table>

  <table name="pc_task">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="list_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="description" type="varchar" required="true" size="255" />
    <foreign-key foreignTable="pc_list">
      <reference local="list_id" foreign="id" />
    </foreign-key>
    <column name="sort_order" type="smallint" default="0" sqlType="SMALLINT"/>
    <column name="due_date" type="date" />
    <column name="due_time" type="integer" sqlType="SMALLINT UNSIGNED" descrition="always in 24H format" />
    <column name="repetition_id" type="tinyint" sqlType="TINYINT UNSIGNED"  required="false"/>
    <column name="repetition_param" type="tinyint" sqlType="TINYINT UNSIGNED"  required="false" default="0" />
    <column name="is_starred" type="boolean" sqlType="TINYINT(1)" default="0"  null="false" />
    <column name="is_completed" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="is_header" type="boolean" sqlType="TINYINT(1)" default="0"  required="true" null="false" />
    <column name="is_from_system" type="boolean" sqlType="TINYINT(1)" default="0"  required="true" null="false" />
    <column name="special_flag" type="tinyint" sqlType="TINYINT UNSIGNED" required="false"/>
    <column name="note" type="varchar" sqlType="TEXT" />
    <column name="contexts" type="varchar" size="127" default="" description="it is a comma separated list" />
    <column name="contact_id" type="integer" sqlType="INTEGER UNSIGNED" required="false" />    
    <column name="completed_at" type="timestamp" />
    <column name="updated_at" type="timestamp"  required="true" null="false" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
    <foreign-key foreignTable="pc_repetition">
      <reference local="repetition_id" foreign="id" />
    </foreign-key>
    <index>
      <index-column name="list_id"/>
      <index-column name="is_completed"/>
      <index-column name="due_date"/>
      <index-column name="sort_order"/>
    </index>
  </table>

  <table name="pc_timezone">
    <column name="id" type="tinyint" sqlType="TINYINT UNSIGNED" required="true" primaryKey="true" />
    <column name="label" type="varchar" size="8" required="true" description="the second part of the label says whether those countries observe DST at all" />
    <column name="description" type="varchar" size="127" required="true" />
    <column name="offset" type="smallint" sqlType="SMALLINT SIGNED" default="0" description="in minutes from UTC" />
    <unique>
      <unique-column name="label"/>
    </unique>
  </table>
  
  <table name="pc_users_lists">
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <column name="list_id" type="integer"  sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <foreign-key foreignTable="pc_list">
      <reference local="list_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_session">
    <column name="id" type="varchar" primaryKey="true" size="64" />
    <column name="data" type="longvarchar" />
    <column name="time" type="integer" sqlType="INTEGER UNSIGNED" />
  </table>

  <table name="pc_watchdog">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" autoIncrement="true" />
    <column name="type" type="varchar" required="true" size="16" />
    <column name="description" type="longvarchar" />
    <column name="created_at" type="timestamp" />
  </table>
  
  <table name="pc_email_change_history">
  <column name="id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" autoIncrement="true" />
  <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
  <column name="old_email" type="varchar" required="true" size="80" />
  <column name="new_email" type="varchar" required="true" size="80" />
  <column name="created_at" type="timestamp" />
  <foreign-key foreignTable="pc_user">
    <reference local="user_id" foreign="id" />
  </foreign-key>
  </table>  
  
  <table name="pc_users_contexts">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <column name="context" type="varchar"  size="31" required="true" />
    <column name="sort_order" type="smallint" default="0" sqlType="SMALLINT UNSIGNED" />
    <column name="updated_at" type="timestamp" null="false" required="true" />
    <column name="created_at" type="timestamp"   null="false" required="true" />
  </table>

  <table name="pc_tasks_contexts">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" autoIncrement="true" />
    <column name="task_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="users_contexts_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <foreign-key foreignTable="pc_users_contexts" onDelete="cascade">
      <reference local="users_contexts_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_task" onDelete="cascade">
      <reference local="task_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_repetition">
    <column name="id" type="tinyint" sqlType="TINYINT UNSIGNED" required="true" primaryKey="true" />
    <column name="human_expression" type="varchar" size="63" required="true" description="" />
    <column name="computer_expression" type="varchar" size="63" required="true" description="a PHP strtostring compatible expression" />
    <column name="initial_computer_expression" type="varchar" size="63" required="true" description="a PHP strtostring compatible expression" />
    <column name="special" type="varchar" size="16" required="true" description="whether it is a special case, as for many weekdays" />
    <column name="needs_param" type="boolean" sqlType="TINYINT(1)" required="false" default="0" description="whether the expression needs a numerical parameter" />
    <column name="is_param_cardinal" type="boolean" sqlType="TINYINT(1)" required="false" default="0" />
    <column name="min_param" type="tinyint" sqlType="TINYINT UNSIGNED" required="false" default="0" />
    <column name="max_param" type="tinyint" sqlType="TINYINT UNSIGNED" required="false"  default="0" />
    <column name="sort_order" type="tinyint" sqlType="TINYINT UNSIGNED" required="false"  default="0" />
    <column name="has_divider_below" type="boolean" sqlType="TINYINT(1)" required="false" default="0" description="says whether to add a divider below in a combo box" />
    <column name="ical_rrule" type="varchar" size="63" required="true" description="" />
    <column name="updated_at" type="timestamp" null="false" />
    <column name="created_at" type="timestamp"  null="false" />
    <unique>
      <unique-column name="human_expression"/>
    </unique>
  </table>

  <table name="pc_value">
    <column name="name" type="varchar" size="32" required="true" primaryKey="true" description="" />
    <column name="value" type="varchar" sqlType="TEXT" description="" />
  </table>

  <table name="pc_update">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" autoIncrement="true" />
    <column name="signature" type="varchar" size="32" required="true" description="important to send the update to the Plancake installations" />
    <column name="description" type="varchar" size="512" required="true" description="" />
    <column name="url" type="varchar" size="128" required="true" description="" />
    <column name="created_at" type="timestamp" />
    <unique>
      <unique-column name="signature"/>
    </unique>
  </table>

  <table name="pc_donation">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" description="can be zero if the user is not logged in" />
    <column name="before_donation" type="boolean" sqlType="TINYINT(1)" default="1" description="1->the user is in the page where to choose the amount; 0->the user has done the donation" />
    <column name="created_at" type="timestamp" />
  </table>

  <table name="pc_supporter">
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" />
    <column name="expiry_date" type="date" require="true" />
    <column name="is_renewal_automatic" type="boolean" sqlType="TINYINT(1)" default="0" />    
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_blog_post">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="title" type="varchar" required="true" size="255" />
    <column name="slug" type="varchar" required="true" size="255" />
    <column name="content" type="varchar" sqlType="TEXT" />
    <column name="italian_url" type="varchar" sqlType="TEXT" />
    <column name="is_reviewed" type="boolean" sqlType="TINYINT(1)" default="0" />    
    <column name="is_published" type="boolean" sqlType="TINYINT(1)" default="0" /> 
    <column name="published_at" type="timestamp" />
    <column name="created_at" type="timestamp" />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_blog_category">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="name" type="varchar" required="true" size="64" />
    <column name="slug" type="varchar" required="true" size="255" />
  </table>

  <table name="pc_blog_categories_posts">
    <column name="post_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="category_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <foreign-key foreignTable="pc_blog_post">
      <reference local="post_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_blog_category">
      <reference local="category_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_blog_comment">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="post_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="content" type="varchar" sqlType="TEXT" />
    <column name="updated_at" type="timestamp" />
    <column name="created_at" type="timestamp" />
    <foreign-key foreignTable="pc_blog_post">
      <reference local="post_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_api_app">
    <column name="id" type="smallint" sqlType="SMALLINT UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" required="true" size="64" />
    <column name="api_key" type="varchar" required="true" size="40" />
    <column name="api_secret" type="varchar" required="true" size="16" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" null="true" />
    <column name="is_limited" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="description" type="varchar" required="true" />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <index>
      <index-column name="api_key" />
    </index>
    <unique>
      <unique-column name="api_key"/>
    </unique>
  </table>

  <table name="pc_api_app_stats">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="api_app_id" type="smallint" sqlType="SMALLINT UNSIGNED" null="false" />

    <column name="number_of_requests" type="integer" sqlType="INTEGER UNSIGNED" default="0" />
    <column name="bandwidth" type="integer" sqlType="INTEGER UNSIGNED" default="0" description="download bw, in bytes" />

    <column name="today" type="varchar" size="10" null="false" />
    <column name="number_of_requests_today" type="integer" sqlType="MEDIUMINT UNSIGNED" default="0" />
    <column name="bandwidth_today" type="integer" sqlType="MEDIUMINT UNSIGNED" default="0" description="download bw, in bytes" />

    <column name="last_hour" type="integer" size="2" null="false" />
    <column name="number_of_requests_last_hour" type="smallint" sqlType="SMALLINT UNSIGNED" default="0" />
    <column name="bandwidth_last_hour" type="integer" sqlType="MEDIUMINT UNSIGNED" default="0" description="download bw, in bytes" />

    <foreign-key foreignTable="pc_api_app">
      <reference local="api_app_id" foreign="id" />
    </foreign-key>

    <index>
      <index-column name="api_app_id" />
    </index>
  </table>

  <table name="pc_api_token">
    <column name="token" type="varchar" required="true" size="41" primaryKey="true" />
    <column name="api_app_id" type="smallint" sqlType="SMALLINT UNSIGNED" required="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" null="true" />
    <column name="expiry_timestamp" type="integer" size="11" null="false" />
    <foreign-key foreignTable="pc_api_app">
      <reference local="api_app_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_subscription_thankyou_page_impression">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" />
    <column name="username" type="varchar" required="true" default="" size="25" />
    <column name="email" type="varchar" required="true" size="80" />
    <column name="viewed_at" type="timestamp"  required="true" null="false" />
  </table>

  <table name="pc_promotion_code">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" autoIncrement="true" />
    <column name="code" type="varchar" required="true" default="" size="25" />    
    <column name="discount_percentage" type="integer" required="true" size="2" />
    <column name="expiry_date" type="date" required="true" />
    <column name="only_for_new_customers" type="boolean" sqlType="TINYINT(1)" required="true" default="0"  null="false" />
    <column name="uses_count" type="integer" required="true" default="0" />
    <column name="max_uses" type="integer" required="true" />
    <column name="note" type="varchar" required="false" default="" size="512" />    
    <column name="created_at" type="timestamp" />    
  </table>

  <table name="pc_trashbin_users_contexts">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="context" type="varchar"  size="31" required="true" />
    <column name="updated_at" type="timestamp" />
    <column name="created_at" type="timestamp" />
    <column name="deleted_at" type="integer" size="11" null="false" />
    <index>
      <index-column name="deleted_at"/>
    </index>
  </table>

  <table name="pc_trashbin_list">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="creator_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="title" type="varchar" required="true" size="255" />
    <column name="sort_order" type="smallint" default="0" sqlType="SMALLINT UNSIGNED" />
    <column name="is_header" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="is_inbox" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="is_todo" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="updated_at" type="timestamp" />
    <column name="created_at" type="timestamp" />
    <column name="deleted_at" type="integer" size="11" null="false" />
    <index>
      <index-column name="deleted_at"/>
    </index>
  </table>

  <table name="pc_trashbin_task">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="list_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="description" type="varchar" required="true" size="255" />
    <column name="sort_order" type="smallint" default="0" sqlType="SMALLINT"/>
    <column name="due_date" type="date" />
    <column name="repetition_id" type="tinyint" sqlType="TINYINT UNSIGNED"  required="false"/>
    <column name="repetition_param" type="tinyint" sqlType="TINYINT UNSIGNED"  required="false" default="0" />
    <column name="is_completed" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="is_header" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="is_from_system" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="note" type="varchar" sqlType="TEXT" />
    <column name="contexts" type="varchar" size="31" default="" description="it is a comma separated list" />
    <column name="contact_id" type="integer" sqlType="INTEGER UNSIGNED" required="false" />    
    <column name="completed_at" type="timestamp" />
    <column name="updated_at" type="timestamp" />
    <column name="created_at" type="timestamp" />
    <column name="deleted_at" type="integer" size="11" null="false" />
    <index>
      <index-column name="deleted_at"/>
    </index>
  </table>

  <table name="pc_note">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="creator_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="title" type="varchar" required="true" size="127" />
    <column name="content" type="varchar" required="true" sqlType="MEDIUMTEXT"  />
    <column name="updated_at" type="timestamp" />
    <column name="created_at" type="timestamp" />
    <foreign-key foreignTable="pc_user">
      <reference local="creator_id" foreign="id" />
    </foreign-key>
    <index>
      <index-column name="creator_id"/>
    </index>
  </table>

  <table name="pc_subscription_type">
    <column name="id" type="tinyint" sqlType="TINYINT(2) UNSIGNED" required="true" primaryKey="true" />
    <column name="name" type="varchar" required="true" size="32" />
    <column name="expiration_time_expression" type="varchar" required="true" size="32" />
  </table>

  <table name="pc_paypal_product">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="item_number" type="varchar" required="true" size="32" />
    <column name="item_name" type="varchar" required="true" size="64" />
    <column name="item_price" type="varchar" required="true" size="16" />
    <column name="item_price_currency" type="varchar" required="true" size="5" />
    <column name="discount_percentage" type="integer" sqlType="INTEGER UNSIGNED" null="true" />    
    <column name="subscription_type_id" type="tinyint" sqlType="TINYINT(2) UNSIGNED" required="true" />
    <column name="paypal_button_code" type="varchar" required="true" size="32" />
    <foreign-key foreignTable="pc_subscription_type">
      <reference local="subscription_type_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_paypal_transaction">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="item_number" type="varchar" required="true" size="32" default="" />
    <column name="item_name" type="varchar" size="64" default="" />
    <column name="custom_field" type="varchar" required="true" size="127" default="" />
    <column name="payment_status" type="varchar" required="true" size="32" default="" />
    <column name="payment_amount" type="varchar" required="true" size="16" default="" />
    <column name="payment_currency" type="varchar" required="true" size="5" default="" />
    <column name="transaction_id" type="varchar" required="true" size="64" default="" />
    <column name="parent_transaction_id" type="varchar" size="64" default="" />
    <column name="receiver_email" type="varchar" required="true" size="127" default="" />
    <column name="residence_country" type="varchar" size="8" default="" />
    <column name="payer_email" type="varchar" required="true" size="127" default="" />
    <column name="payment_date" type="varchar" required="true" size="32" default="" />
    <column name="error" type="tinyint" sqlType="TINYINT(2) UNSIGNED" default="0" description="0->no error, 1->HTTP error, 2->transaction error, 3->dodgy transaction, 4->duplicate transaction" />
    <column name="raw_data" type="varchar" required="true" sqlType="MEDIUMTEXT" />
    <column name="created_at" type="timestamp" />
  </table>


  <table name="pc_subscription">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="subscription_type_id" type="tinyint" sqlType="TINYINT(2) UNSIGNED" required="true" />
    <column name="was_gift" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="was_automatic" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="paypal_transaction_id" type="varchar" required="true" size="64" default="" />
    <column name="is_refunded_or_reversed" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="created_at" type="timestamp" />
    <foreign-key foreignTable="pc_subscription_type">
      <reference local="subscription_type_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <index>
      <index-column name="user_id"/>
    </index>
  </table>

  <table name="pc_quote_of_the_day">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="quote" type="varchar" required="true" size="512" default="" />
    <column name="quote_in_italian" type="varchar" required="false" size="512" default="" />
    <column name="quote_author" type="varchar" required="true" size="64" default="" />
    <column name="quote_author_in_italian" type="varchar" required="false" size="64" default="" />
    <column name="is_tip" type="boolean" sqlType="TINYINT(1)" default="0" description="0->proper quote, 1->tip from team" />
    <column name="shown_on" type="integer" sqlType="INTEGER UNSIGNED" null="true" description="YYYYmmdd format" />
    <index>
      <index-column name="shown_on"/>
    </index>
  </table>

  <table name="pc_google_calendar">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <column name="calendar_url" type="varchar" size="255" default="" />
    <column name="session_token" type="varchar" required="true" size="64" default="" />
    <column name="email_address" type="varchar" required="true" size="123" default="" />
    <column name="is_active" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="is_syncing" type="boolean" sqlType="TINYINT(1)" default="0" />
    <column name="latest_sync_start_timestamp" type="integer" sqlType="INTEGER UNSIGNED" required="false" />
    <column name="latest_sync_end_timestamp" type="integer" sqlType="INTEGER UNSIGNED" required="false" />
    <column name="updated_at" type="timestamp" />
    <column name="created_at" type="timestamp" />
  </table>

  <table name="pc_google_calendar_event">
    <column name="task_id" type="integer" sqlType="INTEGER UNSIGNED" primaryKey="true" />
    <column name="event_id" type="varchar" required="true" size="32" default="" />
    <column name="updated_at" type="timestamp" />
    <column name="created_at" type="timestamp" />
    <index>
      <index-column name="event_id" />
    </index>
    <foreign-key foreignTable="pc_task" onDelete="cascade">
      <reference local="task_id" foreign="id" />
    </foreign-key>
  </table>


  <table name="pc_archived_task">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="list_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="description" type="varchar" required="true" size="255" />
    <column name="sort_order" type="smallint" default="0" sqlType="SMALLINT UNSIGNED"/>
    <column name="due_date" type="date" />
    <column name="due_time" type="integer" sqlType="SMALLINT UNSIGNED" descrition="always in 24H format" />
    <column name="repetition_id" type="tinyint" sqlType="TINYINT UNSIGNED"  required="false"/>
    <column name="repetition_param" type="tinyint" sqlType="TINYINT UNSIGNED"  required="false" default="0" />
    <column name="is_starred" type="boolean" sqlType="TINYINT(1)" default="0"  null="false" />
    <column name="is_completed" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="is_header" type="boolean" sqlType="TINYINT(1)" default="0"  required="true" null="false" />
    <column name="is_from_system" type="boolean" sqlType="TINYINT(1)" default="0"  required="true" null="false" />
    <column name="special_flag" type="tinyint" sqlType="TINYINT UNSIGNED" required="false"/>    
    <column name="note" type="varchar" sqlType="TEXT" />
    <column name="contexts" type="varchar" size="31" default="" description="it is a comma separated list" />
    <column name="completed_at" type="timestamp" />
    <column name="updated_at" type="timestamp"  required="true" null="false" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
  </table>

  <table name="pc_language">
    <column name="id" type="char" size="2" required="true" primaryKey="true" />
    <column name="name" type="varchar" size="32" required="true" />
    <column name="sort_order" type="smallint" sqlType="SMALLINT SIGNED" default="1" />
    <unique>
      <unique-column name="name"/>
    </unique>
  </table>

  <table name="pc_string_category">
    <column name="id" type="integer" sqlType="TINYINT UNSIGNED" required="true" primaryKey="true" />
    <column name="name" type="varchar" size="64" required="true" />
    <column name="note" type="varchar" size="128" required="false" />
    <column name="link" type="varchar" size="128" required="false" />
    <column name="in_account" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="in_misc" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="sort_order" type="integer" sqlType="MEDIUMINT UNSIGNED" required="true" />
    <column name="created_at" type="timestamp" />
  </table>

  <table name="pc_string">
    <column name="id" type="varchar" size="64" required="true" primaryKey="true" />
    <column name="category_id" type="integer" sqlType="TINYINT UNSIGNED" required="true" />
    <column name="sort_order_in_category" type="integer" sqlType="MEDIUMINT UNSIGNED" required="true" />
    <column name="max_length" type="integer" sqlType="SMALLINT UNSIGNED" required="true" default="0" />
    <column name="note" type="varchar" size="128" required="false" />
    <column name="is_archived" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="created_at" type="timestamp" />
    <foreign-key foreignTable="pc_string_category" onDelete="cascade">
      <reference local="category_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_translation">
    <column name="language_id" type="char" size="2" required="true" primaryKey="true" />
    <column name="string_id" type="varchar" size="64" required="true" primaryKey="true" />
    <column name="string" type="varchar" sqlType="TEXT" required="true" />
    <column name="updated_at" type="timestamp" />
    <foreign-key foreignTable="pc_language" onDelete="cascade">
      <reference local="language_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_string" onDelete="cascade">
      <reference local="string_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_translator">
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="language_id" type="char" size="2" required="true" />
    <column name="has_accepted_agreement" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
    <foreign-key foreignTable="pc_language" onDelete="cascade">
      <reference local="language_id" foreign="id" />
    </foreign-key>
  </table>


  <table name="pc_user_key">
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="key" type="varchar" size="32" required="true" />
    <foreign-key foreignTable="pc_user">
      <reference local="user_id" foreign="id" />
    </foreign-key>
    <unique>
      <unique-column name="key"/>
    </unique>
    <index>
      <index-column name="key"/>
    </index>
  </table>

  <table name="pc_contact">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" required="false" size="255" />
    <column name="description" type="varchar" sqlType="TEXT" required="false" />
    <column name="position" type="varchar" required="false" size="32" />    
    <column name="email" type="varchar" required="false" size="255" />
    <column name="phone" type="varchar" required="false" size="32" />
    <column name="website" type="varchar" required="false" size="255" />
    <column name="link" type="varchar" required="false" size="255" />
    <column name="twitter" type="varchar" required="false" size="64" />    
    <column name="language" type="varchar" required="true" size="2" />
    <column name="company_id" type="integer" sqlType="INTEGER UNSIGNED" required="false" />    
    <column name="creator_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="updated_at" type="timestamp"  required="true" null="false" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
    <foreign-key foreignTable="pc_user">
      <reference local="creator_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_contact_company">
      <reference local="company_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_contact_tag">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" required="true" size="255" />
    <column name="creator_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="updated_at" type="timestamp"  required="true" null="false" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
    <foreign-key foreignTable="pc_user">
      <reference local="creator_id" foreign="id" />
    </foreign-key>
  </table>


  <table name="pc_contacts_tags">
    <column name="contact_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="tag_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <foreign-key foreignTable="pc_contact">
      <reference local="contact_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_contact_tag">
      <reference local="tag_id" foreign="id" />
    </foreign-key>
    <column name="creator_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
    <foreign-key foreignTable="pc_user">
      <reference local="creator_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_contact_note">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="contact_id" type="integer" sqlType="INTEGER UNSIGNED" required="true"/>
    <foreign-key foreignTable="pc_contact">
      <reference local="contact_id" foreign="id" />
    </foreign-key>
    <column name="content" type="varchar" sqlType="TEXT" required="true" />
    <column name="creator_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="updated_at" type="timestamp"  required="true" null="false" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
    <foreign-key foreignTable="pc_user">
      <reference local="creator_id" foreign="id" />
    </foreign-key>
  </table>

  <table name="pc_contact_company">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" required="false" size="255" />
    <column name="email" type="varchar" required="false" size="255" />
    <column name="website" type="varchar" required="false" size="255" />
    <column name="address" type="varchar" required="false" size="255" />
    <column name="note" type="varchar" required="false" size="255" />    
    <column name="updated_at" type="timestamp"  required="true" null="false" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
  </table>

  <table name="pc_review">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="contact_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" />
    <column name="link" type="varchar" required="true" size="255" />
    <column name="html" type="varchar" sqlType="TEXT" required="true" />
    <column name="language" type="varchar" required="true" size="2" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
    <foreign-key foreignTable="pc_contact">
      <reference local="contact_id" foreign="id" />
    </foreign-key>
  </table>


  <table name="pc_tweet">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="content" type="varchar" required="true" size="256" />
    <column name="author" type="varchar" required="true" size="128" />
    <column name="link" type="varchar" required="true" size="255" />
    <column name="language" type="varchar" required="true" size="2" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
  </table>

  <table name="pc_team_collab_tool_newsletter">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="email" type="varchar" size="64" />
    <column name="updated_at" type="timestamp"  required="true" null="false" />
    <column name="created_at" type="timestamp"  required="true" null="false" />
  </table>


  <table name="pc_bookkeeping_category">
    <column name="id" type="integer" sqlType="TINYINT(2) UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" size="64" required="true" />
  </table>

  <table name="pc_bookkeeping_type">
    <column name="id" type="integer" sqlType="TINYINT(2) UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" size="64" required="true" />
  </table>

  <table name="pc_bookkeeping_payment_method">
    <column name="id" type="integer" sqlType="TINYINT(2) UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" size="64" required="true" />
  </table>

  <table name="pc_bookkeeping_contact">
    <column name="id" type="integer" sqlType="SMALLINT UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="name" type="varchar" size="64" required="true" />
  </table>
  
  <table name="pc_bookkeeping_entry">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="type_id" type="integer" sqlType="TINYINT(2) UNSIGNED" required="true" null="false" />
    <column name="contact_id" type="integer" sqlType="SMALLINT UNSIGNED"  />    
    <column name="amount" type="float" required="true" null="false" />    
    <column name="description" type="varchar" size="255" required="true" null="false" />
    <column name="date" type="date"  required="true" null="false" />
    <column name="vat" type="varchar" size="2" />
    <column name="category_id" type="integer" sqlType="TINYINT(2) UNSIGNED" required="true" null="false" />
    <column name="payment_method_id" type="integer" sqlType="TINYINT(2) UNSIGNED" required="true" null="false" />
    <column name="ref_number" type="varchar" size="255" />
    <column name="needs_clarification" type="boolean" sqlType="TINYINT(1)" required="true" default="0" />
    <column name="question" type="varchar" size="255" />    
    <column name="updated_at" type="timestamp"  required="true" null="false" />
    <column name="created_at" type="timestamp"  required="true" null="false" />    
    <foreign-key foreignTable="pc_bookkeeping_type">
      <reference local="type_id" foreign="id" />
    </foreign-key>    
    <foreign-key foreignTable="pc_bookkeeping_contact">
      <reference local="contact_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_bookkeeping_category">
      <reference local="category_id" foreign="id" />
    </foreign-key>
    <foreign-key foreignTable="pc_bookkeeping_payment_method">
      <reference local="payment_method_id" foreign="id" />
    </foreign-key>     
  </table>

  <table name="pc_breaking_news">
    <column name="id" type="integer" sqlType="SMALLINT UNSIGNED" required="true" primaryKey="true" autoIncrement="true" />
    <column name="headline" type="varchar" size="256" required="true" />
    <column name="link" type="varchar" size="256" required="true" default='' />
    <column name="created_at" type="timestamp"  required="true" />    
  </table>

  <table name="pc_hideable_hints_setting">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <foreign-key foreignTable="pc_user">
      <reference local="id" foreign="id" />
    </foreign-key>    
    <column name="inbox" type="boolean" sqlType="TINYINT(1)"  required="true" default="0"  null="false" />    
    <column name="todo" type="boolean" sqlType="TINYINT(1)"  required="true" default="0"  null="false" />  
    <column name="completed" type="boolean" sqlType="TINYINT(1)"  required="true" default="0"  null="false" />    
    <column name="quote" type="boolean" sqlType="TINYINT(1)"  required="true" default="0"  null="false" />    
    <column name="updated_at" type="timestamp"  required="true" />
    <column name="created_at" type="timestamp"  required="true" />    
  </table>
  
  <table name="pc_testimonial">
    <column name="id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />      
    <column name="user_id" type="integer" sqlType="INTEGER UNSIGNED" required="true" primaryKey="true" />
    <column name="name" type="varchar" required="true" size="256" />    
    <column name="job_position" type="varchar" required="true" size="256" />
    <column name="company" type="varchar" required="false" size="256" />
    <column name="city" type="varchar" required="true" size="256" />
    <column name="country" type="varchar" required="true" size="256" />    
    <column name="comment" type="varchar" sqlType="TEXT" required="true" />
    <column name="photo_link" type="varchar" required="true" size="256" />    
    <column name="updated_at" type="timestamp"  required="true" />
    <column name="created_at" type="timestamp"  required="true" />   
  </table>  

</database>
